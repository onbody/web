<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>On Medical Group — Futuristic</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Orbitron:wght@600;800&display=swap" rel="stylesheet">

  <!-- Axios -->
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

  <style>
    :root{
      --bg:#0a0a0f;
      --bg-2:#0f0f17;
      --text:#e6e7ee;
      --muted:#9aa0ad;
      --neon:#c6ff00; /* lima neón */
      --neon-2:#6bffb8; 
      --card:#12121c;
      --border:#1f2030;
      --accent:#76ff03;
      --error:#ff5577;
      --ok:#00d4a6;
      --shadow-neon: 0 0 24px rgba(198,255,0,.25), inset 0 0 24px rgba(198,255,0,.06);
      --radius: 20px;
      --trans: 240ms cubic-bezier(.2,.8,.2,1);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      color:var(--text);
      background:
        radial-gradient(1200px 800px at 110% -10%, rgba(198,255,0,.08), transparent 60%),
        radial-gradient(1200px 800px at -10% 110%, rgba(107,255,184,.08), transparent 60%),
        linear-gradient(180deg, var(--bg), var(--bg-2));
      font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      overflow-x:hidden;
    }

    /* Background grid + scanlines */
    body::before, body::after{
      content:"";
      position:fixed; inset:0; pointer-events:none; z-index:0;
    }
    body::before{
      background:
        linear-gradient(transparent 95%, rgba(255,255,255,.04) 96%) 0 0 / 100% 3px,
        linear-gradient(90deg, transparent 95%, rgba(255,255,255,.04) 96%) 0 0 / 3px 100%;
      mask: radial-gradient(ellipse at 50% 0%, rgba(255,255,255,.8), transparent 60%);
      opacity:.25;
    }
    body::after{
      background: repeating-linear-gradient(180deg, rgba(255,255,255,.03) 0 2px, transparent 2px 4px);
      mix-blend-mode:soft-light;
      opacity:.4;
    }

    .container{ width:min(1200px, 92%); margin-inline:auto; position:relative; z-index:1; }

    /* Header */
    header{
      position:sticky; top:0; z-index:10;
      backdrop-filter: blur(10px);
      background:linear-gradient(180deg, rgba(10,10,15,.85), rgba(10,10,15,.65));
      border-bottom:1px solid var(--border);
    }
    .nav{
      display:flex; align-items:center; justify-content:space-between; gap:16px;
      padding:14px 0;
    }
    .logo{
      display:flex; align-items:center; gap:10px; text-decoration:none; color:var(--text);
    }
    .logo-mark{
      width:34px; height:34px; border-radius:8px;
      background:
        conic-gradient(from 45deg, var(--neon) 0 25%, transparent 0 50%, var(--neon-2) 0 75%, transparent 0);
      box-shadow: var(--shadow-neon);
      position:relative;
    }
    .logo-text{
      font-family:Orbitron, Inter, sans-serif; font-weight:800; letter-spacing:.06em;
      text-transform:uppercase; font-size:18px;
    }
    nav ul{
      list-style:none; display:flex; gap:22px; padding:0; margin:0;
    }
    nav a{
      color:var(--muted); text-decoration:none; font-weight:600; padding:10px 14px; border-radius:12px;
      transition:var(--trans); position:relative;
    }
    nav a:hover{ color:var(--text); }
    nav a.active{ color:#111; background:var(--neon); box-shadow:0 0 24px rgba(198,255,0,.35); }

    .cta{
      border:1px solid var(--border); padding:10px 16px; border-radius:12px; color:var(--text); text-decoration:none; font-weight:700;
      transition:var(--trans); position:relative; overflow:hidden;
    }
    .cta::after{
      content:""; position:absolute; inset:0; border-radius:inherit;
      background:linear-gradient(90deg, transparent, rgba(198,255,0,.15), transparent);
      transform:translateX(-100%); transition: transform .7s ease;
    }
    .cta:hover{ border-color:rgba(198,255,0,.5); box-shadow:var(--shadow-neon); color:var(--text); }
    .cta:hover::after{ transform:translateX(100%); }

    /* Hero */
    .hero{ padding:80px 0 30px; position:relative; }
    .hero-grid{
      position:absolute; inset:-60px 0 0 0; z-index:0; pointer-events:none;
    }
    .hero-grid svg{ width:100%; height:100%; }
    .hero-wrap{
      display:grid; grid-template-columns: 1.2fr .8fr; gap:40px; align-items:center;
    }
    .kicker{
      color:var(--neon); font-weight:800; letter-spacing:.18em; text-transform:uppercase; font-size:12px; margin-bottom:14px;
    }
    h1{
      margin:0 0 14px; font-size: clamp(32px, 5vw, 64px);
      font-family:Orbitron, Inter, sans-serif; letter-spacing:.02em;
      line-height:1.05;
      text-shadow:0 0 20px rgba(198,255,0,.08);
    }
    .lead{
      color:var(--muted); font-size:18px; line-height:1.6; margin:0 0 26px;
    }
    .hero-card{
      background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      border:1px solid var(--border); border-radius:var(--radius); padding:22px;
      box-shadow: 0 10px 40px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.02);
      position:relative; overflow:hidden;
      transform-style: preserve-3d; perspective:1000px;
    }
    .hero-card::before{
      content:""; position:absolute; inset:-2px; border-radius:inherit; padding:2px;
      background: conic-gradient(from 0deg, rgba(198,255,0,.0), rgba(198,255,0,.25), rgba(107,255,184,.25), rgba(198,255,0,.0));
      -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask-composite: xor; mask-composite: exclude;
      animation: spin 8s linear infinite;
      opacity:.6;
    }
    @keyframes spin{ to{ transform:rotate(1turn); } }

    .hero-actions{ display:flex; gap:12px; flex-wrap:wrap; }
    .btn{
      display:inline-flex; align-items:center; gap:10px;
      padding:14px 18px; border-radius:14px; border:1px solid var(--border);
      background:#141422; color:var(--text); text-decoration:none; font-weight:800; letter-spacing:.02em;
      transition:var(--trans);
    }
    .btn.primary{
      background:linear-gradient(180deg, var(--neon), #9bff00);
      color:#0a0a0f; border-color:transparent; box-shadow:0 10px 30px rgba(198,255,0,.35);
    }
    .btn:hover{ transform: translateY(-1.5px); box-shadow:0 10px 24px rgba(0,0,0,.35); }

    /* Metrics */
    .metrics{
      display:grid; grid-template-columns: repeat(3,1fr); gap:18px; margin-top:30px;
    }
    .metric{
      border:1px solid var(--border); border-radius:16px; padding:20px; background:#0f0f19;
    }
    .metric .num{
      font-size: clamp(38px, 5vw, 64px);
      font-weight:900; font-family:Orbitron, Inter, sans-serif; letter-spacing:.02em; line-height:1;
      color:var(--neon);
      text-shadow:0 0 24px rgba(198,255,0,.25);
    }
    .metric p{ margin:6px 0 0; color:var(--muted); }

    /* Catalog */
    .section{ padding:70px 0; }
    .section h2{
      font-family:Orbitron, Inter, sans-serif;
      font-size: clamp(26px, 3vw, 40px);
      margin:0 0 14px;
    }
    .section .sub{ color:var(--muted); margin:0 0 26px; }

    .grid{
      display:grid; grid-template-columns: repeat(4,1fr); gap:16px;
    }
    @media (max-width:1000px){ .grid{ grid-template-columns: repeat(2,1fr);} .hero-wrap{ grid-template-columns: 1fr; } }
    @media (max-width:560px){ .grid{ grid-template-columns:1fr; } .metrics{ grid-template-columns:1fr; } }

    .card{
      position:relative; overflow:hidden; border-radius:18px;
      border:1px solid var(--border); background:linear-gradient(180deg, #11111a, #0d0d16);
      transition: transform var(--trans), box-shadow var(--trans), border-color var(--trans);
      transform-style:preserve-3d;
    }
    .card:hover{
      transform: translateY(-6px) rotateX(2deg) rotateY(-2deg);
      border-color: rgba(198,255,0,.4);
      box-shadow: 0 16px 40px rgba(0,0,0,.5), 0 0 32px rgba(198,255,0,.12);
    }
    .card-media{
      aspect-ratio: 16/10;
      background:
        radial-gradient(120px 80px at 80% 20%, rgba(198,255,0,.12), transparent 60%),
        linear-gradient(135deg, #10101a, #0d0d15);
      display:grid; place-items:center; color:var(--muted); font-weight:800; letter-spacing:.12em; text-transform:uppercase;
    }
    .card h3{
      margin:14px 14px 6px; font-size:20px; font-weight:800;
      display:flex; align-items:center; justify-content:space-between; gap:8px;
    }
    .tag{
      font-size:12px; letter-spacing:.1em; text-transform:uppercase; color:#111; background:var(--neon); padding:6px 10px; border-radius:999px;
    }
    .rating{ margin:0 14px 16px; color:var(--muted); font-size:14px; }
    .rating .strong{ color:var(--text); font-weight:800; }

    /* Timeline */
    .timeline{
      position:relative; padding-top:20px;
    }
    .timeline svg{
      position:absolute; inset:0; pointer-events:none; opacity:.35;
    }
    .steps{
      display:grid; grid-template-columns: repeat(4,1fr); gap:16px;
    }
    @media (max-width:900px){ .steps{ grid-template-columns: 1fr 1fr; } }
    @media (max-width:560px){ .steps{ grid-template-columns: 1fr; } }

    .step{
      background:#0f0f19; border:1px solid var(--border); border-radius:16px; padding:18px 16px; position:relative;
    }
    .step h4{
      margin:0 0 8px; width:38px; height:38px; display:grid; place-items:center; border-radius:12px; background:var(--neon); color:#111; font-family:Orbitron; 
      box-shadow: var(--shadow-neon);
    }
    .step p{ margin:0; color:var(--muted); }

    /* Form */
    .form{
      display:grid; grid-template-columns: 1fr 1fr; gap:16px; margin-top:10px;
      background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01));
      padding:20px; border-radius:18px; border:1px solid var(--border);
    }
    @media (max-width:800px){ .form{ grid-template-columns:1fr; } }
    .field{
      position:relative;
    }
    .field input, .field select, .field textarea{
      width:100%; background:#0e0e17; color:var(--text); border:1px solid var(--border); border-radius:12px;
      padding:18px 14px 14px; outline:none; transition:var(--trans); font-size:16px;
    }
    .field textarea{ min-height:120px; resize:vertical; }
    .field label{
      position:absolute; left:12px; top:12px; padding:0 6px; color:var(--muted); background:#0e0e17;
      transform-origin:left top; transition:var(--trans); pointer-events:none;
    }
    .field:focus-within label, .field.has-value label{
      transform: translateY(-12px) scale(.86);
      color:var(--neon);
    }
    .field:focus-within input, .field:focus-within select, .field:focus-within textarea{
      border-color: rgba(198,255,0,.5); box-shadow: var(--shadow-neon);
    }
    .form-actions{
      grid-column:1/-1; display:flex; gap:10px; justify-content:flex-end; flex-wrap:wrap;
    }

    .toast{
      position:fixed; right:20px; bottom:20px; z-index:20; padding:14px 16px; border-radius:14px; font-weight:700;
      background:#0f1923; color:var(--text); border:1px solid var(--border); box-shadow:0 10px 30px rgba(0,0,0,.5);
      display:none;
    }
    .toast.ok{ border-color: rgba(0,212,166,.5); box-shadow:0 0 24px rgba(0,212,166,.3); }
    .toast.err{ border-color: rgba(255,85,119,.5); box-shadow:0 0 24px rgba(255,85,119,.25); }

    /* Reveal base */
    .reveal{ opacity:0; transform: translateY(14px) scale(.98); }
    .reveal.show{ opacity:1; transform:none; transition: 700ms var(--trans); }




    /* Accesibilidad visual oculta */
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

/* Desktop por defecto */
.nav-desktop{display:flex; align-items:center; gap:0}
.burger{display:none}

/* Mobile: ocultar nav de escritorio y mostrar hamburguesa */
@media (max-width: 900px){
  .nav-desktop{display:none}
  .burger{
    display:inline-grid; place-items:center; width:44px; height:44px;
    border:1px solid var(--border); background:#11131a; border-radius:12px; cursor:pointer;
    transition:var(--trans)
  }
  .burger:hover{box-shadow:var(--shadow-neon); border-color:rgba(198,255,0,.45)}
  .burger-line, .burger-line::before, .burger-line::after{
    content:""; display:block; width:20px; height:2px; background:var(--text); border-radius:2px; position:relative; transition:var(--trans)
  }
  .burger-line::before{position:absolute; top:-6px}
  .burger-line::after{position:absolute; top:6px}
  .burger[aria-expanded="true"] .burger-line{background:transparent}
  .burger[aria-expanded="true"] .burger-line::before{top:0; transform:rotate(45deg); background:var(--neon)}
  .burger[aria-expanded="true"] .burger-line::after{top:0; transform:rotate(-45deg); background:var(--neon)}

  /* Panel móvil tipo drawer */
  .mobile-nav{
    position:fixed; inset:0 0 0 auto; width:min(86%, 360px);
    background:linear-gradient(180deg, #0e0f17, #0b0c14);
    border-left:1px solid var(--border);
    transform:translateX(100%); transition:transform .35s ease;
    z-index:19; display:block;
  }
  .mobile-nav.open{ transform:translateX(0) }
  .mobile-nav__inner{ padding:18px; display:flex; flex-direction:column; gap:10px }
  .mobile-link{
    display:block; padding:14px 12px; border:1px solid var(--border); border-radius:14px;
    color:var(--text); text-decoration:none; font-weight:700; background:#10121a; transition:var(--trans)
  }
  .mobile-link:hover{ border-color:rgba(198,255,0,.45); box-shadow:var(--shadow-neon) }
  .mobile-cta{ text-align:center }

  /* Backdrop */
  .mobile-backdrop{
    position:fixed; inset:0; background:rgba(0,0,0,.5); backdrop-filter:blur(2px);
    z-index:18; opacity:0; transition:opacity .35s ease; display:block;
  }
  .mobile-backdrop.show{ opacity:1 }
  body.lock{ overflow:hidden }
}

  </style>
</head>
<body>

  <header>
  <div class="container nav">
    <a href="#" class="logo">
      <div class="logo-mark"></div>
      <div class="logo-text">On Medical Group</div>
    </a>

    <!-- Menú de escritorio -->
    <nav class="nav-desktop">
      <ul>
        <li><a href="#catalogo">Catálogo</a></li>
        <li><a href="#pasos">Cómo trabajamos</a></li>
        <li><a class="active" href="#contacto">Contacto</a></li>
      </ul>
    </nav>
    <a class="cta nav-desktop" href="#contacto">Solicitar demo</a>

    <!-- Botón hamburguesa -->
    <button class="burger" id="burger" aria-label="Abrir menú" aria-expanded="false" aria-controls="mobile-nav">
      <span class="burger-line"></span>
      <span class="sr-only">Menú</span>
    </button>
  </div>

  <!-- Panel móvil -->
  <div class="mobile-nav" id="mobile-nav" hidden>
    <div class="mobile-nav__inner">
      <a href="#catalogo" class="mobile-link">Catálogo</a>
      <a href="#pasos" class="mobile-link">Cómo trabajamos</a>
      <a href="#contacto" class="mobile-link">Contacto</a>
      <a class="btn primary mobile-cta" href="#contacto">Solicitar demo</a>
    </div>
  </div>

  <!-- Fondo oscurecido -->
  <div class="mobile-backdrop" id="mobile-backdrop" hidden></div>
</header>


  <main>

    <!-- HERO -->
    <section class="hero">
      <div class="hero-grid">
        <!-- Animated diagonal wires -->
        <svg viewBox="0 0 1200 500" preserveAspectRatio="none">
          <defs>
            <linearGradient id="wire" x1="0" x2="1">
              <stop offset="0" stop-color="#c6ff00" stop-opacity=".0"/>
              <stop offset=".5" stop-color="#c6ff00" stop-opacity=".45"/>
              <stop offset="1" stop-color="#c6ff00" stop-opacity=".0"/>
            </linearGradient>
          </defs>
          <g stroke="url(#wire)" stroke-width="1.5">
            <path d="M0,420 L1200,120">
              <animate attributeName="stroke-opacity" values=".1;.5;.1" dur="5s" repeatCount="indefinite"/>
            </path>
            <path d="M0,480 L1200,180">
              <animate attributeName="stroke-opacity" values=".05;.45;.05" dur="6s" repeatCount="indefinite"/>
            </path>
            <path d="M0,360 L1200,60">
              <animate attributeName="stroke-opacity" values=".05;.4;.05" dur="7s" repeatCount="indefinite"/>
            </path>
          </g>
        </svg>
      </div>
      <div class="container hero-wrap">
        <div class="hero-copy">
          <div class="kicker">Tecnología estética de próxima generación</div>
          <h1>¿Tienes un Centro Médico Estético?</h1>
          <p class="lead">
            Invertir en aparatología es un reto. <strong>On Medical</strong> lo convierte en una ventaja competitiva con
            soluciones <em>plug &amp; play</em>, formación a tu equipo y soporte 360º.
          </p>
          <div class="hero-actions">
            <a class="btn primary" href="#catalogo">Ver catálogo</a>
            <a class="btn" href="#contacto">Hablar con un asesor</a>
          </div>

          <div class="metrics">
            <div class="metric reveal">
              <div class="num" data-count="5">0</div>
              <p>Años adelantados al futuro</p>
            </div>
            <div class="metric reveal">
              <div class="num" data-count="10" data-suffix="+">0</div>
              <p>Sectores donde operamos</p>
            </div>
            <div class="metric reveal">
              <div class="num" data-count="100" data-suffix="%">0</div>
              <p>Planes 100% personalizables</p>
            </div>
          </div>
        </div>

        <div class="hero-card reveal" id="card-tilt">
          <h3 style="margin:0 0 8px">Suite ON</h3>
          <p class="lead" style="margin:0 0 14px">
            Aparatología vanguardista con metodología certificada para tu personal.
          </p>
          <ul style="margin:0; padding-left:18px; color:var(--muted); line-height:1.8">
            <li>Instalación y entrega en 24h*</li>
            <li>Formación presencial/online</li>
            <li>Mantenimiento y soporte continuo</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- CATALOGO -->
    <section id="catalogo" class="section container">
      <h2 class="reveal">Adelántate 5 años al Futuro de la Estética</h2>
      <p class="sub reveal">Catálogo destacado y centros que ya confían en nosotros este año.</p>

      <div class="grid">
        <!-- Card -->
        <article class="card reveal">
          <div class="card-media">OnFace</div>
          <h3>OnFace <span class="tag">Facial</span></h3>
          <p class="rating"><span class="strong" data-count="34">0</span> centros lo eligieron este año.</p>
        </article>

        <article class="card reveal">
          <div class="card-media">On Body</div>
          <h3>On Body <span class="tag">Corporal</span></h3>
          <p class="rating"><span class="strong" data-count="25">0</span> centros lo eligieron este año.</p>
        </article>

        <article class="card reveal">
          <div class="card-media">On Exe</div>
          <h3>On Exe <span class="tag">Performance</span></h3>
          <p class="rating"><span class="strong" data-count="56">0</span> centros lo eligieron este año.</p>
        </article>

        <article class="card reveal">
          <div class="card-media">On Laser</div>
          <h3>On Laser <span class="tag">Láser</span></h3>
          <p class="rating"><span class="strong" data-count="82">0</span> centros lo eligieron este año.</p>
        </article>
      </div>
    </section>

    <!-- TIMELINE -->
    <section id="pasos" class="section container timeline">
      <h2 class="reveal">Así trabajamos</h2>
      <p class="sub reveal">Cuatro pasos, cero fricción.</p>

      <!-- Animated line -->
      <svg viewBox="0 0 1200 140">
        <defs>
          <linearGradient id="stroke" x1="0" x2="1">
            <stop offset="0" stop-color="#c6ff00" stop-opacity=".0"/>
            <stop offset=".5" stop-color="#c6ff00" stop-opacity=".8"/>
            <stop offset="1" stop-color="#6bffb8" stop-opacity=".0"/>
          </linearGradient>
        </defs>
        <path d="M0,100 C250,40 350,160 600,100 850,40 950,160 1200,100" fill="none" stroke="url(#stroke)" stroke-width="2">
          <animate attributeName="stroke-dasharray" values="0,1400; 1400,0" dur="6s" repeatCount="indefinite"/>
        </path>
      </svg>

      <div class="steps">
        <div class="step reveal">
          <h4>1</h4>
          <p>Nos conocemos por llamada o videollamada.</p>
        </div>
        <div class="step reveal">
          <h4>2</h4>
          <p>Presupuesto personalizable según la aparatología que te interesa.</p>
        </div>
        <div class="step reveal">
          <h4>3</h4>
          <p>Opciones de financiación claras, contrato transparente.</p>
        </div>
        <div class="step reveal">
          <h4>4</h4>
          <p>Primer pago y envío en 24h con todos los complementos.</p>
        </div>
      </div>
    </section>

    <!-- FORM -->
    <section id="contacto" class="section container">
      <h2 class="reveal">Hablemos</h2>
      <p class="sub reveal">Déjanos tus datos y te contactamos hoy.</p>

      <form class="form" id="contact-form" novalidate>
        <div class="field"><label for="nombre">Nombre</label><input id="nombre" name="nombre" required /></div>
        <div class="field"><label for="telefono">Teléfono</label><input id="telefono" name="telefono" type="tel" required /></div>
        <div class="field"><label for="email">Email</label><input id="email" name="email" type="email" required /></div>
        <div class="field"><label for="provincia">Provincia</label><input id="provincia" name="provincia" /></div>
        <div class="field"><label for="centro">Nombre de tu Centro</label><input id="centro" name="centro" /></div>
        <div class="field"><label for="aparatologia">Aparatología</label>
          <select id="aparatologia" name="aparatologia">
            <option>On Body</option><option>On Face</option><option>On Exe</option><option>On Derma</option>
          </select>
        </div>
        <div class="field" style="grid-column:1/-1">
          <label for="obs">Observaciones</label>
          <textarea id="obs" name="observaciones" placeholder="Cuéntanos qué necesitas..."></textarea>
        </div>
        <div class="form-actions">
          <button class="btn" type="reset">Limpiar</button>
          <button class="btn primary" type="submit">Solicitar presupuesto</button>
        </div>
      </form>
    </section>

  </main>

  <div class="toast" id="toast"></div>

  <script>
    // Floating labels state
    document.querySelectorAll('.field input, .field textarea, .field select').forEach(el=>{
      const set = ()=> el.parentElement.classList.toggle('has-value', !!el.value);
      el.addEventListener('input', set); set();
    });

    // Intersection reveal + counters
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(entry=>{
        if(entry.isIntersecting){
          entry.target.classList.add('show');
          // Counters
          const num = entry.target.querySelector?.('.num');
          if(num && !num.dataset.done){
            animateCount(num, +num.dataset.count, num.dataset.suffix||"");
            num.dataset.done = "1";
          }
          // Small counters inside cards
          entry.target.querySelectorAll('.strong[data-count]').forEach(el=>{
            if(!el.dataset.done){ animateCount(el, +el.dataset.count, ""); el.dataset.done = "1"; }
          });
        }
      });
    }, { threshold:.25 });

    document.querySelectorAll('.reveal').forEach(el=> io.observe(el));

    function animateCount(el, to, suffix){
      const start = 0, dur = 1200;
      const t0 = performance.now();
      function frame(now){
        const p = Math.min(1, (now - t0)/dur);
        const eased = 1 - Math.pow(1-p, 3);
        el.textContent = Math.round(start + (to - start)*eased) + (suffix || "");
        if(p<1) requestAnimationFrame(frame);
      }
      requestAnimationFrame(frame);
    }

    // Simple tilt for the hero card
    const tilt = document.getElementById('card-tilt');
    tilt.addEventListener('pointermove', (e)=>{
      const r = tilt.getBoundingClientRect();
      const x = (e.clientX - r.left)/r.width - .5;
      const y = (e.clientY - r.top)/r.height - .5;
      tilt.style.transform = `rotateX(${(-y*6).toFixed(2)}deg) rotateY(${(x*6).toFixed(2)}deg) translateZ(0)`;
    });
    tilt.addEventListener('pointerleave', ()=> tilt.style.transform = '');

    // Nav active on hash
    function setActive(){
      const hash = location.hash || '#contacto';
      document.querySelectorAll('nav a').forEach(a=> a.classList.toggle('active', a.getAttribute('href')===hash));
    }
    window.addEventListener('hashchange', setActive); setActive();

    // Toast helper
    const toast = document.getElementById('toast');
    function showToast(msg, ok=true){
      toast.textContent = msg;
      toast.className = 'toast ' + (ok?'ok':'err');
      toast.style.display = 'block';
      setTimeout(()=> toast.style.display='none', 3200);
    }

    // Form submit with Axios (mock endpoint)
    const form = document.getElementById('contact-form');
    form.addEventListener('submit', async (e)=>{
      e.preventDefault();
      // Simple validation
      if(!form.nombre.value || !form.telefono.value || !form.email.value){
        showToast('Completa nombre, teléfono y email.', false);
        return;
      }
      const data = Object.fromEntries(new FormData(form).entries());
      try{
        // Demo: post contra jsonplaceholder
        await axios.post('https://jsonplaceholder.typicode.com/posts', data, {
          headers: { 'Content-Type':'application/json' }
        });
        showToast('¡Solicitud enviada! Te contactaremos hoy.');
        form.reset();
        form.querySelectorAll('.field').forEach(f=>f.classList.remove('has-value'));
      }catch(err){
        showToast('Error al enviar. Intenta nuevamente.', false);
      }
    });

    // Smooth scroll for internal links
    document.querySelectorAll('a[href^="#"]').forEach(a=>{
      a.addEventListener('click', e=>{
        const id = a.getAttribute('href').slice(1);
        const target = document.getElementById(id);
        if(target){
          e.preventDefault();
          window.scrollTo({ top: target.offsetTop - 70, behavior:'smooth' });
          history.pushState(null,"","#"+id);
          setActive();
        }
      });
    });

    
  (function(){
    const burger = document.getElementById('burger');
    const panel  = document.getElementById('mobile-nav');
    const backdrop = document.getElementById('mobile-backdrop');

    function openMenu(){
      burger.setAttribute('aria-expanded','true');
      panel.hidden = false;
      backdrop.hidden = false;
      requestAnimationFrame(()=>{
        panel.classList.add('open');
        backdrop.classList.add('show');
        document.body.classList.add('lock');
      });
      // foco al primer link
      panel.querySelector('a')?.focus();
    }
    function closeMenu(){
      burger.setAttribute('aria-expanded','false');
      panel.classList.remove('open');
      backdrop.classList.remove('show');
      document.body.classList.remove('lock');
      setTimeout(()=>{ panel.hidden = true; backdrop.hidden = true; }, 300);
      burger.focus();
    }

    burger.addEventListener('click', ()=>{
      const expanded = burger.getAttribute('aria-expanded') === 'true';
      expanded ? closeMenu() : openMenu();
    });
    backdrop.addEventListener('click', closeMenu);
    // cerrar con ESC
    window.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') closeMenu(); });
    // cerrar al navegar a una sección
    document.querySelectorAll('#mobile-nav a').forEach(a => {
      a.addEventListener('click', closeMenu);
    });
  })();
</script>

</body>
</html>
